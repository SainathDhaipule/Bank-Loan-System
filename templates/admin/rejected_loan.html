{% extends 'admin/adminbase.html' %}
{% load static %}
{% load humanize %} <!-- Load the humanize filter -->

{% block block_js %}
<script>
    // JavaScript code here
</script>
{% endblock %}

{% block css_block %}
<style>
    /* CSS code here */
</style>
{% endblock %}

{% block body_block %}
<div class="container">
    <h1 class="text-center text-primary">Rejected Loan</h1>
    <div class="users my-5">
        <table class="table table-light table-hover table-bordered table-striped text-center">
            <thead class="bg-dark">
                <tr class="text-dark">
                    <th scope="col">SL</th>
                    <th scope="col">Loan ID</th>
                    <th scope="col">User ID</th>
                    <th scope="col">Username</th>
                    <th scope="col">Status</th>
                    <th scope="col">Category</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Request Date</th>
                    <th scope="col">Rejected Date</th>
                    <th scope="col">Year</th>
                    <th scope="col">Customer Email</th>
                </tr>
            </thead>
            <tbody>
                {% for loan in rejectedLoan %}
                <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td>{{ loan.id }}</td>
                    <td>{{ loan.customer.id }}</td>
                    <td>{{ loan }}</td>
                    <td>
                        <button type="button" class="btn btn-info text-white btn-sm px-3">
                            {{ loan.status }}
                        </button>
                    </td>
                    <td>{{ loan.category }}</td>
                    <!-- Add commas to the loan amount using the intcomma filter -->
                    <td>â‚¹ {{ loan.amount|intcomma }}</td>
                    <td>{{ loan.request_date }}</td>
                    <td>{{ loan.status_date }}</td>
                    <td>{{ loan.year }}</td>
                    <td>{{ loan.customer.user.email }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
